<div class="row">
  {% for block in section.blocks %}
    {% if block.settings.product != blank %}
      {% assign product = all_products[block.settings.product] %}
      <div class="col-md-4 mb-4">
        <div class="card" style="width: 100%;">
          <img
            width=""
            height=""
            src="{{ product.featured_image | image_url: width: 500 }}"
            class="card-img-top"
            alt="{{ product.title }}"
          >
          <div class="card-body">
            <h5 class="card-title">{{ product.title }}</h5>
            <p class="card-text">{{ product.description | strip_html | truncatewords: 20 }}</p>
            <p class="card-text fw-bold">{{ product.price | money }}</p>
            <a href="{{ product.url }}" class="btn btn-primary">View Product</a>
          </div>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>

{% schema %}
{
  "name": "Our Product Section",
  "settings": [],
  "blocks": [
    {
      "type": "product_block",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Select Product"
        }
      ]
    }
  ],

  "presets": [
    {
      "name": "Our Product Section",
      "category": "Products"
    }
  ]
}
{% endschema %}
